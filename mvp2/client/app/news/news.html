<div class="row">
    <div class="menu col-xs-8 filters">
        <div class="btn-group pull-right">
            <button type="button" class="btn btn-seekstock dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
                    aria-expanded="false">
                {{ vm.currentStore.names[0].text || 'All Stores' }}
                <span class="caret"></span>
                <span class="sr-only">Toggle Dropdown</span>
            </button>
            <ul class="dropdown-menu">
                <li data-ng-repeat="store in vm.stores">
                    <a href="#" data-ng-click="vm.currentStore = store; vm.update()">
                        {{ store.names[0].text }}
                    </a>
                </li>
            </ul>
        </div>

        <div class="form-group categories hidden-xs hidden-sm">
            <span class="fa-checkboxes" ng-repeat="tag in vm.tags">

                <input
                        class="faChkRnd"
                        type="checkbox"
                        name="tags[]"
                        value="{{ tag }}"
                        ng-checked="vm.currentTags.indexOf(tag) > -1"
                        ng-click="vm.toggleCategory(tag)">
                <label>{{ tag }}</label>
                </span>
        </div>

    </div>
</div>


<div class="row" ng-show="vm.isCompletelyEmpty() && vm.firstLoad && vm.activities.length == 0">
    <div class="col-xs-8">
        <div class="jumbotron">
            <h2>Welcome to Seek Stock {{ vm.staffMember().names[0].text }}!</h2>
            <p>As one of the first users for your outlet you won't see much activity. But go ahead and search above for
                products
                to give feedback or create a new product request.</p>
        </div>
    </div>
</div>

<div class="row" ng-show="!vm.isCompletelyEmpty() && vm.firstLoad && vm.activities.length == 0">
    <div class="col-xs-8">
        <div class="jumbotron">
            <h2>We need more feedback!</h2>
            <p>This combination of filters doesn't have any feedback - please add more!</p>
        </div>
    </div>
</div>



<div class="row">
    <div class="col-xs-8">
        <div class="panel panel-default news" data-ng-repeat="activity in vm.activities">
            <div class="panel-body">
                <div ng-switch="activity.action">
                    <div ng-switch-when="createdStaffFeedback">

                        <div class="media">
                            <div class="media-left">
                                <a href="#">
                                    <ss-image class="'media-object'" src="activity.object.variations[0].image"
                                              width="'90'"></ss-image>
                                </a>
                            </div>
                            <div class="media-body">
                                <h4 class="media-heading">Feedback</h4>
                                <p><strong><a ui-sref="product({ sku : activity.object.sku })">{{
                                    activity.object.description
                                    }} </a></strong>
                                    <small>{{ activity.object.sku }}</small>
                                </p>

                                <feedback-labels feedback="activity.body"></feedback-labels>

                                <p class="feed-back">
                                    <mention is-subject="true" staff-member="activity.subject"></mention>
                                    {{ activity.body.description }} <br/>
                                    <small class="ago" am-time-ago="activity.createdAt"></small>
                                    <store-mention store="activity.store"></store-mention>
                                </p>

                            </div>
                            <div class="media-right">
                                <like-action activity="activity" spotId="activity.body.id"></like-action>
                            </div>
                        </div>
                        <comments object-id="activity.body.id" object-type="'feedback'"
                                  recipient-id="activity.subject.id"></comments>
                    </div>
                    <div ng-switch-when="createdStaffRequest">
                        <div class="media">
                            <div class="media-left">
                                <a href="#">
                                    <ss-image class="'media-object'" src="activity.object.variations[0].image"
                                              width="'90'"></ss-image>
                                </a>
                            </div>
                            <div class="media-body">
                                <h4 class="media-heading">Product Request</h4>
                                <p><strong><a ui-sref="product({ sku : activity.object.sku })">{{activity.object.description}} </a></strong>
                                    <small>{{ activity.object.sku }}</small>
                                </p>

                                <table class="table" style="font-size:11px">
                                    <tr>
                                        <td>Category</td>
                                        <td>{{ activity.body.productType }}</td>

                                    </tr>
                                    <tr>
                                        <td>Size</td>
                                        <td>{{ activity.body.size }}</td>

                                    </tr>
                                    <tr>
                                        <td>Colour</td>
                                        <td>{{ activity.body.colour }}</td>
                                    </tr>
                                </table>
                                <p class="feed-back">
                                    <mention is-subject="true" staff-member="activity.subject"></mention>
                                    {{ activity.body.description }} <br/>
                                    <small class="ago" am-time-ago="activity.createdAt"></small>
                                    <store-mention store="activity.store"></store-mention>
                                </p>
                                <p>
                                    <span class="label label-tags"
                                          data-ng-repeat="tag in activity.body.tags">{{ tag }}</span>
                                </p>

                            </div>
                            <div class="media-right">
                                <like-action activity="activity" spotId="activity.body.id"></like-action>
                            </div>
                        </div>
                        <comments object-id="activity.body.id" object-type="'feedback'"
                                  recipient-id="activity.subject.id"></comments>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xs-4">
        <insights-dashboard ng-show="vm.activities.length>0"></insights-dashboard>
    </div>
</div>
