var res = {data:{}};
res.data = JSON.parse('{"products":[{"id":"0adfd74a-15df-11e7-f182-0a921c5bbcc5","source_id":"","variant_source_id":"","handle":"Sunglasses","type":"Fashion","has_variants":false,"variant_parent_id":"","variant_option_one_name":"","variant_option_one_value":"","variant_option_two_name":"","variant_option_two_value":"","variant_option_three_name":"","variant_option_three_value":"","active":true,"name":"Sunglasses","base_name":"Sunglasses","description":"Retro square sunglasses with tinted or polarizing lenses.","image":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-thumb.png","image_large":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-original.png","images":[],"sku":"10012","tags":"Retro square, Summer","brand_id":"0adfd74a-15df-11e7-f182-0a921c659e96","brand_name":"In The Shade","supplier_name":"Ramons","supplier_code":"","supply_price":"50.00","account_code_purchase":"","account_code_sales":"","track_inventory":true,"button_order":"","inventory":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","outlet_name":"Main Outlet","count":"4.00000","reorder_point":"1","restock_level":"3"}],"price_book_entries":[{"id":"cfae552b-5a62-3215-090c-ae88a623ec82","product_id":"0adfd74a-15df-11e7-f182-0a921c5bbcc5","price_book_id":"0adfd74a-1555-11e7-f182-0a921c1f098f","price_book_name":"General Price Book (All Products)","type":"BASE","outlet_name":"","outlet_id":"","customer_group_name":"All Customers","customer_group_id":"0adfd74a-1555-11e7-f182-0a921c1d59f1","price":173.91304,"loyalty_value":null,"tax":26.08696,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","display_retail_price_tax_inclusive":1,"min_units":"","max_units":"","valid_from":"","valid_to":""}],"price":173.91304,"tax":26.08696,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","taxes":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb"}],"display_retail_price_tax_inclusive":1,"updated_at":"2017-03-16 21:47:12","deleted_at":""},{"id":"0adfd74a-15df-11e7-f182-0a921d2ea089","source_id":"","variant_source_id":"","handle":"vend-discount","type":"","has_variants":false,"variant_parent_id":"","variant_option_one_name":"","variant_option_one_value":"","variant_option_two_name":"","variant_option_two_value":"","variant_option_three_name":"","variant_option_three_value":"","active":true,"name":"Discount","base_name":"Discount","description":"Discount product","image":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-thumb.png","image_large":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-original.png","images":[],"sku":"vend-discount","tags":"","brand_id":"","brand_name":"","supplier_name":"","supplier_code":"","supply_price":"0.00","account_code_purchase":"","account_code_sales":"","track_inventory":true,"button_order":"","inventory":[],"price_book_entries":[{"id":"0adfd74a-15df-11e7-f182-0a921d337d55","product_id":"0adfd74a-15df-11e7-f182-0a921d2ea089","price_book_id":"0adfd74a-1555-11e7-f182-0a921c1f098f","price_book_name":"General Price Book (All Products)","type":"BASE","outlet_name":"","outlet_id":"","customer_group_name":"All Customers","customer_group_id":"0adfd74a-1555-11e7-f182-0a921c1d59f1","price":0,"loyalty_value":null,"tax":0,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","display_retail_price_tax_inclusive":1,"min_units":"","max_units":"","valid_from":"","valid_to":""}],"price":0,"tax":0,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","taxes":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb"}],"display_retail_price_tax_inclusive":1,"updated_at":"2017-03-16 21:47:12","deleted_at":""},{"id":"0adfd74a-15df-11e7-f182-0a921c837424","source_id":"","variant_source_id":"","handle":"SilverPendantNecklace","type":"Fashion","has_variants":false,"variant_parent_id":"0adfd74a-15df-11e7-f182-0a921c72c30a","variant_option_one_name":"Gemstone Color","variant_option_one_value":"Smoky Quartz","variant_option_two_name":"","variant_option_two_value":"","variant_option_three_name":"","variant_option_three_value":"","active":true,"name":"Silver Pendant Necklace ee / Smoky Quartz","base_name":"Silver Pendant Necklace ee","description":"<p>Silver necklace with small stone pendant</p>","image":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-thumb.png","image_large":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-original.png","images":[],"sku":"10014","tags":"","brand_id":"0adfd74a-15df-11e7-f182-0a921c7a5746","brand_name":"Forever Diamonds","supplier_name":"FD Ltd","supplier_code":"","supply_price":"10.00","account_code_purchase":"","account_code_sales":"","track_inventory":true,"button_order":"","inventory":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","outlet_name":"Main Outlet","count":"4.00000","reorder_point":"5","restock_level":"5"}],"price_book_entries":[{"id":"29dadafe-61fb-b8f6-1c8d-37aae2a917ed","product_id":"0adfd74a-15df-11e7-f182-0a921c837424","price_book_id":"0adfd74a-1555-11e7-f182-0a921c1f098f","price_book_name":"General Price Book (All Products)","type":"BASE","outlet_name":"","outlet_id":"","customer_group_name":"All Customers","customer_group_id":"0adfd74a-1555-11e7-f182-0a921c1d59f1","price":43.47826,"loyalty_value":null,"tax":6.52174,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","display_retail_price_tax_inclusive":1,"min_units":"","max_units":"","valid_from":"","valid_to":""}],"price":43.47826,"tax":6.52174,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","taxes":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb"}],"display_retail_price_tax_inclusive":1,"updated_at":"2017-03-29 23:14:55","deleted_at":""},{"id":"0adfd74a-15df-11e7-f182-0a921ca56d02","source_id":"","variant_source_id":"","handle":"SummerDress","type":"Fashion","has_variants":false,"variant_parent_id":"0adfd74a-15df-11e7-f182-0a921c92d85d","variant_option_one_name":"Size","variant_option_one_value":"8","variant_option_two_name":"Colour","variant_option_two_value":"","variant_option_three_name":"","variant_option_three_value":"","active":true,"name":"Summer Dressee / 8 / ","base_name":"Summer Dressee","description":"<p>A light summer floral dress.</p>","image":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-thumb.png","image_large":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-original.png","images":[],"sku":"10016","tags":"","brand_id":"0adfd74a-15df-11e7-f182-0a921c9aa8a3","brand_name":"Summerly","supplier_name":"Nomad Fashions","supplier_code":"","supply_price":"30.00","account_code_purchase":"","account_code_sales":"","track_inventory":true,"button_order":"","inventory":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","outlet_name":"Main Outlet","count":"3.00000","reorder_point":"0","restock_level":"0"}],"price_book_entries":[{"id":"33795bd2-9e58-2887-95ec-af75173d2693","product_id":"0adfd74a-15df-11e7-f182-0a921ca56d02","price_book_id":"0adfd74a-1555-11e7-f182-0a921c1f098f","price_book_name":"General Price Book (All Products)","type":"BASE","outlet_name":"","outlet_id":"","customer_group_name":"All Customers","customer_group_id":"0adfd74a-1555-11e7-f182-0a921c1d59f1","price":108.69565,"loyalty_value":null,"tax":16.30435,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","display_retail_price_tax_inclusive":1,"min_units":"","max_units":"","valid_from":"","valid_to":""}],"price":108.69565,"tax":16.30435,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","taxes":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb"}],"display_retail_price_tax_inclusive":1,"updated_at":"2017-03-30 02:55:04","deleted_at":""},{"id":"0adfd74a-15df-11e7-f182-0a921cb36966","source_id":"","variant_source_id":"","handle":"SummerDress","type":"Fashion","has_variants":false,"variant_parent_id":"0adfd74a-15df-11e7-f182-0a921c92d85d","variant_option_one_name":"Size","variant_option_one_value":"10","variant_option_two_name":"Colour","variant_option_two_value":"","variant_option_three_name":"","variant_option_three_value":"","active":true,"name":"Summer Dressee / 10 / ","base_name":"Summer Dressee","description":"<p>A light summer floral dress.</p>","image":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-thumb.png","image_large":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-original.png","images":[],"sku":"10017","tags":"","brand_id":"0adfd74a-15df-11e7-f182-0a921c9aa8a3","brand_name":"Summerly","supplier_name":"Nomad Fashions","supplier_code":"","supply_price":"30.00","account_code_purchase":"","account_code_sales":"","track_inventory":true,"button_order":"","inventory":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","outlet_name":"Main Outlet","count":"3.00000","reorder_point":"0","restock_level":"0"}],"price_book_entries":[{"id":"aeeea5e7-7f71-8f35-3ca3-c35d036bfb93","product_id":"0adfd74a-15df-11e7-f182-0a921cb36966","price_book_id":"0adfd74a-1555-11e7-f182-0a921c1f098f","price_book_name":"General Price Book (All Products)","type":"BASE","outlet_name":"","outlet_id":"","customer_group_name":"All Customers","customer_group_id":"0adfd74a-1555-11e7-f182-0a921c1d59f1","price":108.69565,"loyalty_value":null,"tax":16.30435,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","display_retail_price_tax_inclusive":1,"min_units":"","max_units":"","valid_from":"","valid_to":""}],"price":108.69565,"tax":16.30435,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","taxes":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb"}],"display_retail_price_tax_inclusive":1,"updated_at":"2017-03-30 02:55:04","deleted_at":""},{"id":"0adfd74a-15df-11e7-f182-0a921cc0f27a","source_id":"","variant_source_id":"","handle":"SummerDress","type":"Fashion","has_variants":false,"variant_parent_id":"0adfd74a-15df-11e7-f182-0a921c92d85d","variant_option_one_name":"Size","variant_option_one_value":"12","variant_option_two_name":"Colour","variant_option_two_value":"","variant_option_three_name":"","variant_option_three_value":"","active":true,"name":"Summer Dressee / 12 / ","base_name":"Summer Dressee","description":"<p>A light summer floral dress.</p>","image":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-thumb.png","image_large":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-original.png","images":[],"sku":"10018","tags":"","brand_id":"0adfd74a-15df-11e7-f182-0a921c9aa8a3","brand_name":"Summerly","supplier_name":"Nomad Fashions","supplier_code":"","supply_price":"30.00","account_code_purchase":"","account_code_sales":"","track_inventory":true,"button_order":"","inventory":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","outlet_name":"Main Outlet","count":"2.00000","reorder_point":"0","restock_level":"0"}],"price_book_entries":[{"id":"8229f835-640c-801a-b369-4516bb339568","product_id":"0adfd74a-15df-11e7-f182-0a921cc0f27a","price_book_id":"0adfd74a-1555-11e7-f182-0a921c1f098f","price_book_name":"General Price Book (All Products)","type":"BASE","outlet_name":"","outlet_id":"","customer_group_name":"All Customers","customer_group_id":"0adfd74a-1555-11e7-f182-0a921c1d59f1","price":108.69565,"loyalty_value":null,"tax":16.30435,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","display_retail_price_tax_inclusive":1,"min_units":"","max_units":"","valid_from":"","valid_to":""}],"price":108.69565,"tax":16.30435,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","taxes":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb"}],"display_retail_price_tax_inclusive":1,"updated_at":"2017-03-30 02:55:04","deleted_at":""},{"id":"0adfd74a-15df-11e7-f182-0a921c92d85d","source_id":"","variant_source_id":"","handle":"SummerDress","type":"Fashion","has_variants":true,"variant_parent_id":"","variant_option_one_name":"Size","variant_option_one_value":"6","variant_option_two_name":"Colour","variant_option_two_value":"","variant_option_three_name":"","variant_option_three_value":"","active":true,"name":"Summer Dressee / 6 / ","base_name":"Summer Dressee","description":"<p>A light summer floral dress.</p>","image":"https://s3.amazonaws.com/vend-images/product/thumb/8/0/80f7a125f3cd996ccb81491ac65f09f371e97757.jpg","image_large":"https://s3.amazonaws.com/vend-images/product/original/8/0/80f7a125f3cd996ccb81491ac65f09f371e97757.jpg","images":[{"id":"0adfd74a-15df-11e7-f182-14f7835f9798","links":{"original":"https://s3.amazonaws.com/vend-images/product/original/8/0/80f7a125f3cd996ccb81491ac65f09f371e97757.jpg","standard":"https://s3.amazonaws.com/vend-images/product/standard/8/0/80f7a125f3cd996ccb81491ac65f09f371e97757.jpg","thumb":"https://s3.amazonaws.com/vend-images/product/thumb/8/0/80f7a125f3cd996ccb81491ac65f09f371e97757.jpg"}}],"sku":"10015","tags":"Summer, Womens, Cotton","brand_id":"0adfd74a-15df-11e7-f182-0a921c9aa8a3","brand_name":"Summerly","supplier_name":"Nomad Fashions","supplier_code":"","supply_price":"30.00","account_code_purchase":"","account_code_sales":"","track_inventory":true,"button_order":"","inventory":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","outlet_name":"Main Outlet","count":"2.00000","reorder_point":"0","restock_level":"0"}],"price_book_entries":[{"id":"fd23b6e1-6a57-4722-463d-457f24182fe5","product_id":"0adfd74a-15df-11e7-f182-0a921c92d85d","price_book_id":"0adfd74a-1555-11e7-f182-0a921c1f098f","price_book_name":"General Price Book (All Products)","type":"BASE","outlet_name":"","outlet_id":"","customer_group_name":"All Customers","customer_group_id":"0adfd74a-1555-11e7-f182-0a921c1d59f1","price":108.69565,"loyalty_value":null,"tax":16.30435,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","display_retail_price_tax_inclusive":1,"min_units":"","max_units":"","valid_from":"","valid_to":""}],"price":108.69565,"tax":16.30435,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","taxes":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb"}],"display_retail_price_tax_inclusive":1,"updated_at":"2017-03-30 03:18:15","deleted_at":""},{"id":"0adfd74a-15df-11e7-f182-0a921cd091ae","source_id":"","variant_source_id":"","handle":"DressShirt","type":"Fashion","has_variants":true,"variant_parent_id":"","variant_option_one_name":"Fabric","variant_option_one_value":"Cotton","variant_option_two_name":"Size","variant_option_two_value":"Small","variant_option_three_name":"","variant_option_three_value":"","active":true,"name":"Dress Shirt / Cotton / Small","base_name":"Dress Shirt","description":"Long sleeved pin stripped shirt.","image":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-thumb.png","image_large":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-original.png","images":[],"sku":"10019","tags":"Mens, Winter","brand_id":"0adfd74a-15df-11e7-f182-0a921cd7dd91","brand_name":"Dress to Impress","supplier_name":"Lewis Apparel","supplier_code":"","supply_price":"20.00","account_code_purchase":"","account_code_sales":"","track_inventory":true,"button_order":"","inventory":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","outlet_name":"Main Outlet","count":"10.00000","reorder_point":"10","restock_level":"5"}],"price_book_entries":[{"id":"4a83a86a-938f-3219-8bf3-c8d7a4c53f56","product_id":"0adfd74a-15df-11e7-f182-0a921cd091ae","price_book_id":"0adfd74a-1555-11e7-f182-0a921c1f098f","price_book_name":"General Price Book (All Products)","type":"BASE","outlet_name":"","outlet_id":"","customer_group_name":"All Customers","customer_group_id":"0adfd74a-1555-11e7-f182-0a921c1d59f1","price":78.26087,"loyalty_value":null,"tax":11.73913,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","display_retail_price_tax_inclusive":1,"min_units":"","max_units":"","valid_from":"","valid_to":""}],"price":78.26087,"tax":11.73913,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","taxes":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb"}],"display_retail_price_tax_inclusive":1,"updated_at":"2017-03-30 04:22:19","deleted_at":""},{"id":"0adfd74a-15df-11e7-f182-0a921ce340ab","source_id":"","variant_source_id":"","handle":"DressShirt","type":"Fashion","has_variants":false,"variant_parent_id":"0adfd74a-15df-11e7-f182-0a921cd091ae","variant_option_one_name":"Fabric","variant_option_one_value":"Cotton","variant_option_two_name":"Size","variant_option_two_value":"Medium","variant_option_three_name":"","variant_option_three_value":"","active":true,"name":"Dress Shirt / Cotton / Medium","base_name":"Dress Shirt","description":"Long sleeved pin stripped shirt.","image":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-thumb.png","image_large":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-original.png","images":[],"sku":"10020","tags":"","brand_id":"0adfd74a-15df-11e7-f182-0a921cd7dd91","brand_name":"Dress to Impress","supplier_name":"Lewis Apparel","supplier_code":"","supply_price":"20.00","account_code_purchase":"","account_code_sales":"","track_inventory":true,"button_order":"","inventory":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","outlet_name":"Main Outlet","count":"11.00000","reorder_point":"10","restock_level":"5"}],"price_book_entries":[{"id":"9f8db70d-59cd-6d3c-5d50-374971447012","product_id":"0adfd74a-15df-11e7-f182-0a921ce340ab","price_book_id":"0adfd74a-1555-11e7-f182-0a921c1f098f","price_book_name":"General Price Book (All Products)","type":"BASE","outlet_name":"","outlet_id":"","customer_group_name":"All Customers","customer_group_id":"0adfd74a-1555-11e7-f182-0a921c1d59f1","price":78.26087,"loyalty_value":null,"tax":11.73913,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","display_retail_price_tax_inclusive":1,"min_units":"","max_units":"","valid_from":"","valid_to":""}],"price":78.26087,"tax":11.73913,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","taxes":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb"}],"display_retail_price_tax_inclusive":1,"updated_at":"2017-03-30 04:22:19","deleted_at":""},{"id":"0adfd74a-15df-11e7-f182-0a921cf23b9c","source_id":"","variant_source_id":"","handle":"DressShirt","type":"Fashion","has_variants":false,"variant_parent_id":"0adfd74a-15df-11e7-f182-0a921cd091ae","variant_option_one_name":"Fabric","variant_option_one_value":"Cotton","variant_option_two_name":"Size","variant_option_two_value":"Large","variant_option_three_name":"","variant_option_three_value":"","active":true,"name":"Dress Shirt / Cotton / Large","base_name":"Dress Shirt","description":"Long sleeved pin stripped shirt.","image":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-thumb.png","image_large":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-original.png","images":[],"sku":"10021","tags":"","brand_id":"0adfd74a-15df-11e7-f182-0a921cd7dd91","brand_name":"Dress to Impress","supplier_name":"Lewis Apparel","supplier_code":"","supply_price":"20.00","account_code_purchase":"","account_code_sales":"","track_inventory":true,"button_order":"","inventory":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","outlet_name":"Main Outlet","count":"8.00000","reorder_point":"10","restock_level":"5"}],"price_book_entries":[{"id":"98490479-3a35-b41b-1b09-f1c89fea39b7","product_id":"0adfd74a-15df-11e7-f182-0a921cf23b9c","price_book_id":"0adfd74a-1555-11e7-f182-0a921c1f098f","price_book_name":"General Price Book (All Products)","type":"BASE","outlet_name":"","outlet_id":"","customer_group_name":"All Customers","customer_group_id":"0adfd74a-1555-11e7-f182-0a921c1d59f1","price":78.26087,"loyalty_value":null,"tax":11.73913,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","display_retail_price_tax_inclusive":1,"min_units":"","max_units":"","valid_from":"","valid_to":""}],"price":78.26087,"tax":11.73913,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","taxes":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb"}],"display_retail_price_tax_inclusive":1,"updated_at":"2017-03-30 04:22:19","deleted_at":""},{"id":"0adfd74a-15df-11e7-f182-0a921d019d01","source_id":"","variant_source_id":"","handle":"DressShirt","type":"Fashion","has_variants":false,"variant_parent_id":"0adfd74a-15df-11e7-f182-0a921cd091ae","variant_option_one_name":"Fabric","variant_option_one_value":"Polyester","variant_option_two_name":"Size","variant_option_two_value":"Small","variant_option_three_name":"","variant_option_three_value":"","active":true,"name":"Dress Shirt / Polyester / Small","base_name":"Dress Shirt","description":"Long sleeved pin stripped shirt.","image":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-thumb.png","image_large":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-original.png","images":[],"sku":"10022","tags":"","brand_id":"0adfd74a-15df-11e7-f182-0a921cd7dd91","brand_name":"Dress to Impress","supplier_name":"Lewis Apparel","supplier_code":"","supply_price":"60.00","account_code_purchase":"","account_code_sales":"","track_inventory":true,"button_order":"","inventory":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","outlet_name":"Main Outlet","count":"4.00000","reorder_point":"5","restock_level":"5"}],"price_book_entries":[{"id":"91a52acb-a98d-98d0-d893-33faae1ba9fd","product_id":"0adfd74a-15df-11e7-f182-0a921d019d01","price_book_id":"0adfd74a-1555-11e7-f182-0a921c1f098f","price_book_name":"General Price Book (All Products)","type":"BASE","outlet_name":"","outlet_id":"","customer_group_name":"All Customers","customer_group_id":"0adfd74a-1555-11e7-f182-0a921c1d59f1","price":65.21739,"loyalty_value":null,"tax":9.78261,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","display_retail_price_tax_inclusive":1,"min_units":"","max_units":"","valid_from":"","valid_to":""}],"price":65.21739,"tax":9.78261,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","taxes":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb"}],"display_retail_price_tax_inclusive":1,"updated_at":"2017-03-30 04:22:19","deleted_at":""},{"id":"0adfd74a-15df-11e7-f182-0a921d10d9ac","source_id":"","variant_source_id":"","handle":"DressShirt","type":"Fashion","has_variants":false,"variant_parent_id":"0adfd74a-15df-11e7-f182-0a921cd091ae","variant_option_one_name":"Fabric","variant_option_one_value":"Polyester","variant_option_two_name":"Size","variant_option_two_value":"Medium","variant_option_three_name":"","variant_option_three_value":"","active":true,"name":"Dress Shirt / Polyester / Medium","base_name":"Dress Shirt","description":"Long sleeved pin stripped shirt.","image":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-thumb.png","image_large":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-original.png","images":[],"sku":"10023","tags":"","brand_id":"0adfd74a-15df-11e7-f182-0a921cd7dd91","brand_name":"Dress to Impress","supplier_name":"Lewis Apparel","supplier_code":"","supply_price":"60.00","account_code_purchase":"","account_code_sales":"","track_inventory":true,"button_order":"","inventory":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","outlet_name":"Main Outlet","count":"6.00000","reorder_point":"6","restock_level":"6"}],"price_book_entries":[{"id":"c36f2417-07f8-118c-f14c-d55320183165","product_id":"0adfd74a-15df-11e7-f182-0a921d10d9ac","price_book_id":"0adfd74a-1555-11e7-f182-0a921c1f098f","price_book_name":"General Price Book (All Products)","type":"BASE","outlet_name":"","outlet_id":"","customer_group_name":"All Customers","customer_group_id":"0adfd74a-1555-11e7-f182-0a921c1d59f1","price":65.21739,"loyalty_value":null,"tax":9.78261,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","display_retail_price_tax_inclusive":1,"min_units":"","max_units":"","valid_from":"","valid_to":""}],"price":65.21739,"tax":9.78261,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","taxes":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb"}],"display_retail_price_tax_inclusive":1,"updated_at":"2017-03-30 04:22:19","deleted_at":""},{"id":"0adfd74a-15df-11e7-f182-0a921d1fd7a8","source_id":"","variant_source_id":"","handle":"DressShirt","type":"Fashion","has_variants":false,"variant_parent_id":"0adfd74a-15df-11e7-f182-0a921cd091ae","variant_option_one_name":"Fabric","variant_option_one_value":"Polyester","variant_option_two_name":"Size","variant_option_two_value":"Large","variant_option_three_name":"","variant_option_three_value":"","active":true,"name":"Dress Shirt / Polyester / Large","base_name":"Dress Shirt","description":"Long sleeved pin stripped shirt.","image":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-thumb.png","image_large":"https://seekstock.vendhq.com/images/placeholder/product/no-image-white-original.png","images":[],"sku":"10024","tags":"","brand_id":"0adfd74a-15df-11e7-f182-0a921cd7dd91","brand_name":"Dress to Impress","supplier_name":"Lewis Apparel","supplier_code":"","supply_price":"60.00","account_code_purchase":"","account_code_sales":"","track_inventory":true,"button_order":"","inventory":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","outlet_name":"Main Outlet","count":"10.00000","reorder_point":"8","restock_level":"8"}],"price_book_entries":[{"id":"36085bbd-e567-24b1-4515-890b88ac479f","product_id":"0adfd74a-15df-11e7-f182-0a921d1fd7a8","price_book_id":"0adfd74a-1555-11e7-f182-0a921c1f098f","price_book_name":"General Price Book (All Products)","type":"BASE","outlet_name":"","outlet_id":"","customer_group_name":"All Customers","customer_group_id":"0adfd74a-1555-11e7-f182-0a921c1d59f1","price":65.21739,"loyalty_value":null,"tax":9.78261,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","display_retail_price_tax_inclusive":1,"min_units":"","max_units":"","valid_from":"","valid_to":""}],"price":65.21739,"tax":9.78261,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","taxes":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb"}],"display_retail_price_tax_inclusive":1,"updated_at":"2017-03-30 04:22:19","deleted_at":""},{"id":"0adfd74a-15df-11e7-f182-0a921c72c30a","source_id":"","variant_source_id":"","handle":"SilverPendantNecklace","type":"Fashion","has_variants":true,"variant_parent_id":"","variant_option_one_name":"Gemstone Color","variant_option_one_value":"Aquamarine","variant_option_two_name":"","variant_option_two_value":"","variant_option_three_name":"","variant_option_three_value":"","active":true,"name":"Silver Pendant Necklace ee / Aquamarine","base_name":"Silver Pendant Necklace ee","description":"<p>Silver necklace with small stone pendant</p>","image":"https://s3.amazonaws.com/vend-images/product/thumb/4/2/420333d6283101d2469e2ee6d3a021e3e74a91e6.jpg","image_large":"https://s3.amazonaws.com/vend-images/product/original/4/2/420333d6283101d2469e2ee6d3a021e3e74a91e6.jpg","images":[{"id":"0adfd74a-15df-11e7-f182-15008e1e9773","links":{"original":"https://s3.amazonaws.com/vend-images/product/original/4/2/420333d6283101d2469e2ee6d3a021e3e74a91e6.jpg","standard":"https://s3.amazonaws.com/vend-images/product/standard/4/2/420333d6283101d2469e2ee6d3a021e3e74a91e6.jpg","thumb":"https://s3.amazonaws.com/vend-images/product/thumb/4/2/420333d6283101d2469e2ee6d3a021e3e74a91e6.jpg"}}],"sku":"10013","tags":"Necklace","brand_id":"0adfd74a-15df-11e7-f182-0a921c7a5746","brand_name":"Forever Diamonds","supplier_name":"FD Ltd","supplier_code":"","supply_price":"15.00","account_code_purchase":"","account_code_sales":"","track_inventory":true,"button_order":"","inventory":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","outlet_name":"Main Outlet","count":"8.00000","reorder_point":"5","restock_level":"5"}],"price_book_entries":[{"id":"49c97d70-a23e-c2ea-5213-a45120b29e19","product_id":"0adfd74a-15df-11e7-f182-0a921c72c30a","price_book_id":"0adfd74a-1555-11e7-f182-0a921c1f098f","price_book_name":"General Price Book (All Products)","type":"BASE","outlet_name":"","outlet_id":"","customer_group_name":"All Customers","customer_group_id":"0adfd74a-1555-11e7-f182-0a921c1d59f1","price":60.86957,"loyalty_value":null,"tax":9.13044,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","display_retail_price_tax_inclusive":1,"min_units":"","max_units":"","valid_from":"","valid_to":""}],"price":60.86957,"tax":9.13044,"tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb","tax_rate":0.15,"tax_name":"GST","taxes":[{"outlet_id":"0adfd74a-1555-11e7-f182-0a921c2a74e8","tax_id":"0adfd74a-1555-11e7-f182-0a921c213ccb"}],"display_retail_price_tax_inclusive":1,"updated_at":"2017-03-30 04:22:58","deleted_at":""}]}');
var results = [];
var handle = '';
var cell;
var sort = [];
var handleCell={}
res.data.products.forEach(item=>{
    if(handleCell[item.handle]){
        handleCell[item.handle].push(item);
    }else{
        handleCell[item.handle]=[];
        handleCell[item.handle].push(item);
    }
});
Object.keys(handleCell).forEach(name=>{
    sort = sort.concat(handleCell[name]);
});
sort.forEach(item => {
    if (!isNaN(item.sku)) {
        if (handle != item.handle) {
            handle = item.handle;
            cell && results.push(cell);
            cell = {
                "sku": item.sku,
                "category": item.type,
                "description": item.base_name,
                "variations": [],
                "active": item.active ? 1 : 0,
                "tags": item.tags,
                "longDescription": item.description,
            };
            var param = {};
            param[item.variant_option_one_name] = item.variant_option_one_value;
            param[item.variant_option_two_name] = item.variant_option_two_value;
            param[item.variant_option_three_name] = item.variant_option_three_value;
            Object.keys(param).forEach(name => {
                var lowName = name.toLowerCase();
                if (lowName.indexOf('colour') > 0 || lowName.indexOf('color') > 0) {
                    param.Colour = param[name];
                }
                if (lowName.indexOf('size') > 0) {
                    param.Size = param[name];
                }
                if (lowName.indexOf('fit') > 0) {
                    param.Fit = param[name];
                }
            });
            var variation = {
                "sku": item.sku,
                "image": item.image_large,
                "size": param.Size ? param.Size : "N/A",
                "colour": param.Colour ? param.Colour : "N/A",
                "fit": param.Fit ? param.Fit : "N/A",
                "brand": item.brand_name,
                "rrp": '$' + item.supply_price
            }
            cell.variations.push(variation);
        } else {
            var param = {};
            param[item.variant_option_one_name] = item.variant_option_one_value;
            param[item.variant_option_two_name] = item.variant_option_two_value;
            param[item.variant_option_three_name] = item.variant_option_three_value;
            Object.keys(param).forEach(name => {
                var lowName = name.toLowerCase();
                if (lowName.indexOf('colour') > 0 || lowName.indexOf('color') > 0) {
                    param.Colour = param[name];
                }
                if (lowName.indexOf('size') > 0) {
                    param.Size = param[name];
                }
                if (lowName.indexOf('fit') > 0) {
                    param.Fit = param[name];
                }
            });
            var variation = {
                "sku": item.sku,
                "image": item.image_large,
                "size": param.Size ? param.Size : "N/A",
                "colour": param.Colour ? param.Colour : "N/A",
                "fit": param.Fit ? param.Fit : "N/A",
                "brand": item.brand_name,
                "rrp": '$' + item.supply_price
            }
            cell.variations.push(variation);
        }
    }
    ;
});
results.push(cell);
console.log(results);
